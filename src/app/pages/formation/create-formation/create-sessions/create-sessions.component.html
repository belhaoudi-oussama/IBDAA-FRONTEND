<div class="form-container" fxFlexFill fxLayoutAlign="start "  fxLayout="column">
<form nz-form [formGroup]="validateForm" id="ngForm1" #detailForm="ngForm">
    <div class="controles-container">  
    <nz-form-item>
      <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="nom">Name</nz-form-label>
      <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="Name Required !">
        <input nz-input formControlName="nom" id="nom" />
      </nz-form-control>
    </nz-form-item>
    <!-- <nz-form-item>
        <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="sceanceFormateur">Formateur</nz-form-label>
        <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="Formateur est requis !">
          <input nz-input formControlName="sceanceFormateur" id="sceanceFormateur" />
        </nz-form-control>
      </nz-form-item> -->
      <nz-form-item>
        <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="formateur">Former</nz-form-label>
        <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="Former Required !">
            <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Selectionner un formateur" formControlName="sceanceFormateur"
            >
                <nz-option *ngFor="let option of optionList" [nzLabel]="option" [nzValue]="option"></nz-option>
              </nz-select>
    <nz-autocomplete [nzDataSource]="optionList" #auto></nz-autocomplete>
</nz-form-control>

</nz-form-item>

<div formGroupName="DateGroup">
 <nz-form-item>
    <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="dateTimeDebut">Start DateTime</nz-form-label>
    <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="Start DateTime Required !">
      <nz-date-picker
      [nzShowTime]="{ nzFormat: 'HH:mm' }"
      nzFormat="yyyy-MM-dd HH:mm"
      formControlName="dateTimeDebut"
      (nzOnOk)="onOk($event)"
      [(ngModel)]="dateD"
    >
    </nz-date-picker>
</nz-form-control>
</nz-form-item>
<input type="hidden" formControlName="drt" [(ngModel)]="dur">
<nz-form-item>
    <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="date">End DateTime</nz-form-label>
    <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="End DateTime Required !">
      <nz-date-picker
      [nzShowTime]="{ nzFormat: 'HH:mm' }"
      nzFormat="yyyy-MM-dd HH:mm"
      formControlName="dateTimeFin"
      (nzOnOk)="onOk($event)"
      [(ngModel)]="dateF"
    >
    </nz-date-picker>
  <br>
    <span *ngIf="validateForm.get('DateGroup')?.errors?.DateVal && (validateForm.get('DateGroup.dateTimeFin')?.touched || validateForm.get('DateGroup.dateTimeFin')?.dirty) " style="color:rgb(241, 37, 65);">
      End Date must be later than start Date
    </span>
  </nz-form-control>
</nz-form-item>
</div>
<nz-form-item>
    <nz-form-label [nzSm]="24" [nzMd]="24" [nzLg]="6" nzRequired nzFor="formateur">Group</nz-form-label>
    <nz-form-control [nzSm]="24" [nzMd]="24" [nzLg]="14" nzErrorTip="Group Required !">
        <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Selectionner un groupe" formControlName="groupe" >
            <nz-option *ngFor="let option of groupsNames" [nzLabel]="option" [nzValue]="option" 
            ></nz-option>
          </nz-select>
<nz-autocomplete [nzDataSource]="groupsNames" #auto></nz-autocomplete>
</nz-form-control>

</nz-form-item>


      <div fxLayout="row"  fxLayoutAlign="end end">
        <a nz-button nzType="primary" [disabled]="!validateForm.valid" form="ngForm" value="Save" (click)="saveSeance()" >Add</a>
    </div>
</div>
  
  </form>

  <div class="list-cadidate-container" fxLayout="row"  fxFlex="auto" nz-row>
    <div nz-col [nzSm]="0" [nzMd]="0" [nzLg]="6"></div>
    <cdk-virtual-scroll-viewport nz-col itemSize="50" class="scrollable" fxFlex="auto" [nzSm]="24" [nzMd]="24" [nzLg]="14">
      <nz-list nzItemLayout="horizontal" >
        <nz-list-header>
          <nz-list-item-meta
            nzDescription= "List des sceances ">
          </nz-list-item-meta>
        </nz-list-header>
        <nz-list-empty *ngIf="listSceance.length === 0"></nz-list-empty>
     <nz-list-item *ngFor="let sceance of listSceance">
          <nz-list-item-meta
            nzAvatar="https://cutt.ly/HQxU03g"
            nzDescription={{sceance?.formateur}}
          >
            <nz-list-item-meta-title>
                {{sceance?.nom}}
            </nz-list-item-meta-title>
            <nz-list-item-meta-description>
                Date de debut: {{sceance?.dateTimeDebut}} <br>
                Date debut : {{sceance?.dateTimeFin}}
            </nz-list-item-meta-description>
          </nz-list-item-meta>
          <ul nz-list-item-actions>
            <nz-list-item-action ><a (click)="removeSceanceFromList(sceance)"><i nz-icon nzType="close" nzTheme="outline"></i></a></nz-list-item-action>
          </ul>
        </nz-list-item> 
      </nz-list>
    </cdk-virtual-scroll-viewport>
  
  </div>

  <div fxLayout="row"  fxLayoutAlign="end end">
    <a id="cancecl-btn" nz-button (click)="close()" >Cancel</a>
    <a nz-button (click)="reset()">Reset</a>
    <a nz-button nzType="primary" (click)="submitSessionForm()" >Submit</a>
</div>
</div>
